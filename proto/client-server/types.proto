syntax = "proto3";

package Proto;

import "math.proto";

enum TextMessageType {
	MessageChatSend = 0;
	MessageChatReceive = 1;
	MessageSystemMessage = 2;
}

enum LoginPacketType {
	LoginResult = 0;
	LoginNotification = 1;
}

enum LogoutPacketType {
	LogoutRequest = 0;
	LogoutResponse = 1;
	LogoutNotification = 2;
}

enum SyncPacketType {
	SyncTransform = 0;
}

message Packet {
	oneof category {
		TextMessageType textMessageType = 1;
		LoginPacketType loginPacketType = 2;
		LogoutPacketType logoutPacketType = 3;
		SyncPacketType syncPacketType = 4;
	}
	bytes payload = 6;
}

message ChatMessageBody {
	uint64 userId = 1;
	string message = 2;
}

message SystemMessageBody {
	string message = 1;
}

message LoginResultBody {
	uint64 userId = 1;
	bool isSuccessed = 2;
}

message LoginNotificationBody {
	uint64 userId = 1;
	string username = 2;
}

message LogoutRequestBody {
	uint64 userId = 1;
}

message LogoutResponseBody {
	bool isSuccessed = 1;
}

message LogoutNotificationBody {
	uint64 userId = 1;
}

message TransformSyncBody {
	uint64 userId = 1;
	Vector3 position = 2;
	Quaternion rotation = 3;
}